# Electron ç°ä»£åŒ–æŠ€æœ¯æ¶æ„ è„šæ‰‹æ¶

<div align="center">

![Electron](https://img.shields.io/badge/Electron-28+-9FEAF9.svg?style=for-the-badge&logo=electron&logoColor=white)
![Vite](https://img.shields.io/badge/Vite-5+-646CFF.svg?style=for-the-badge&logo=vite&logoColor=white)
![shadcn/ui](https://img.shields.io/badge/shadcn%2Fui-latest-000000.svg?style=for-the-badge&logo=shadcnui&logoColor=white)
![Tailwind CSS](https://img.shields.io/badge/Tailwind%20CSS-v4-06B6D4.svg?style=for-the-badge&logo=tailwindcss&logoColor=white)
![TypeScript](https://img.shields.io/badge/TypeScript-5+-3178C6.svg?style=for-the-badge&logo=typescript&logoColor=white)
![Framer Motion](https://img.shields.io/badge/Framer%20Motion-latest-0055FF.svg?style=for-the-badge&logo=framer&logoColor=white)

åŸºäº **Electron + Vite + shadcn/ui + Tailwind CSS + Framer Motion** æ„å»ºçš„ä¸‹ä¸€ä»£æ¡Œé¢åº”ç”¨å¼€å‘æ¨¡æ¿

[å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢
[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢
[é¡¹ç›®æ¶æ„](#é¡¹ç›®æ¶æ„) â€¢
[å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—) â€¢
[éƒ¨ç½²æ„å»º](#éƒ¨ç½²æ„å»º)

</div>

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸš€ ç°ä»£åŒ–æŠ€æœ¯æ ˆ
- **Electron 28+** - è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶ï¼Œæ”¯æŒæœ€æ–°ç‰¹æ€§
- **Vite 5+** - æé€Ÿæ„å»ºå·¥å…·ï¼Œ5å€æ„å»ºé€Ÿåº¦æå‡
- **shadcn/ui** - ç°ä»£åŒ–ç»„ä»¶åº“ï¼ŒåŸºäº Radix UI åŸè¯­
- **Tailwind CSS v4** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶ï¼Œæ”¯æŒ OKLCH è‰²å½©ç©ºé—´
- **Framer Motion** - ç”Ÿäº§å°±ç»ªçš„åŠ¨ç”»åº“
- **TypeScript 5+** - ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹å…¨é¢ç±»å‹æ”¯æŒ

### ğŸ¨ UI/UX ç‰¹æ€§
- âœ… **è‡ªå®šä¹‰æ ‡é¢˜æ ** - æ— è¾¹æ¡†çª—å£ï¼Œå®Œå…¨è‡ªå®šä¹‰çš„çª—å£æ§åˆ¶
- âœ… **æµç•…åŠ¨ç”»æ•ˆæœ** - åŸºäº Framer Motion çš„å¾®äº¤äº’åŠ¨ç”»
- âœ… **å“åº”å¼è®¾è®¡** - é€‚é…ä¸åŒå±å¹•å°ºå¯¸å’Œåˆ†è¾¨ç‡
- âœ… **ç°ä»£åŒ–ä¸»é¢˜** - æ·±è‰²ä¸»é¢˜è®¾è®¡ï¼Œæ”¯æŒ OKLCH è‰²å½©ç©ºé—´
- âœ… **ç»„ä»¶åŒ–æ¶æ„** - åŸºäº shadcn/ui çš„å¯å¤ç”¨ç»„ä»¶

### ğŸ—ï¸ å¼€å‘ä½“éªŒ
- âœ… **çƒ­é‡è½½å¼€å‘** - å¼€å‘è¿‡ç¨‹ä¸­å³æ—¶é¢„è§ˆæ›´æ”¹
- âœ… **ç±»å‹å®‰å…¨** - ä¸¥æ ¼çš„ TypeScript ç±»å‹æ£€æŸ¥
- âœ… **æ¨¡å—åŒ–æ¶æ„** - æ¸…æ™°çš„å…³æ³¨ç‚¹åˆ†ç¦»
- âœ… **IPC é€šä¿¡** - ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹é—´çš„ç±»å‹å®‰å…¨é€šä¿¡
- âœ… **ä»£ç è§„èŒƒ** - ESLint + Prettier è‡ªåŠ¨æ ¼å¼åŒ–

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js** >= 18.0.0
- **pnpm** >= 8.0.0

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone git@github.com:gyy66/Modern-Electron-architecture.git
cd Modern-Electron-architecture

# å®‰è£…ä¾èµ–
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

å¼€å‘æœåŠ¡å™¨å°†åœ¨ `http://localhost:5173` å¯åŠ¨ï¼ŒElectron çª—å£ä¼šè‡ªåŠ¨æ‰“å¼€ã€‚

### shadcn/ui ç»„ä»¶é›†æˆ

```bash
# æ·»åŠ  shadcn/ui ç»„ä»¶
pnpm dlx shadcn@canary add <component-name>

# ä¾‹å¦‚ï¼šæ·»åŠ æŒ‰é’®ç»„ä»¶
pnpm dlx shadcn@canary add button
```

## ğŸ“ é¡¹ç›®æ¶æ„

```
src/
â”œâ”€â”€ main/                      # ä¸»è¿›ç¨‹
â”‚   â”œâ”€â”€ app/                   # åº”ç”¨æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â””â”€â”€ window-manager.ts  # çª—å£ç®¡ç†å™¨
â”‚   â”œâ”€â”€ ipc/                   # IPC é€šä¿¡
â”‚   â”‚   â”œâ”€â”€ handlers/          # IPC å¤„ç†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ window-handlers.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ index.ts               # ä¸»è¿›ç¨‹å…¥å£
â”œâ”€â”€ preload/                   # é¢„åŠ è½½è„šæœ¬
â”‚   â”œâ”€â”€ index.d.ts            # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts              # é¢„åŠ è½½å…¥å£
â””â”€â”€ renderer/                  # æ¸²æŸ“è¿›ç¨‹
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ components/        # ç»„ä»¶ç›®å½•
    â”‚   â”‚   â”œâ”€â”€ layout/        # å¸ƒå±€ç»„ä»¶
    â”‚   â”‚   â”‚   â””â”€â”€ TitleBar.tsx  # è‡ªå®šä¹‰æ ‡é¢˜æ 
    â”‚   â”‚   â””â”€â”€ ui/            # shadcn/ui ç»„ä»¶
    â”‚   â”œâ”€â”€ lib/               # å·¥å…·åº“
    â”‚   â”œâ”€â”€ styles/            # æ ·å¼æ–‡ä»¶
    â”‚   â”‚   â””â”€â”€ main.css       # ä¸»æ ·å¼æ–‡ä»¶
    â”‚   â”œâ”€â”€ types/             # ç±»å‹å®šä¹‰
    â”‚   â”œâ”€â”€ App.tsx            # åº”ç”¨ä¸»ç»„ä»¶
    â”‚   â””â”€â”€ main.tsx           # æ¸²æŸ“è¿›ç¨‹å…¥å£
    â””â”€â”€ index.html             # HTML æ¨¡æ¿
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°

### è‡ªå®šä¹‰æ ‡é¢˜æ 

é¡¹ç›®å®ç°äº†å®Œå…¨è‡ªå®šä¹‰çš„æ ‡é¢˜æ ï¼ŒåŒ…å«ï¼š

- **çª—å£æ§åˆ¶** - æœ€å°åŒ–ã€æœ€å¤§åŒ–/è¿˜åŸã€å…³é—­
- **æ‹–æ‹½åŒºåŸŸ** - æ”¯æŒçª—å£æ‹–æ‹½ç§»åŠ¨
- **çŠ¶æ€åŒæ­¥** - å®æ—¶åŒæ­¥çª—å£æœ€å¤§åŒ–çŠ¶æ€
- **åŠ¨ç”»æ•ˆæœ** - æµç•…çš„æŒ‰é’®äº¤äº’åŠ¨ç”»

```typescript
// TitleBar ç»„ä»¶æ ¸å¿ƒå®ç°
const handleMaximize = async () => {
  if (window.api?.window?.maximize) {
    const maximized = await window.api.window.maximize()
    setIsMaximized(maximized)
  }
}
```

### IPC é€šä¿¡æ¶æ„

ç±»å‹å®‰å…¨çš„ IPC é€šä¿¡å®ç°ï¼š

```typescript
// é¢„åŠ è½½è„šæœ¬ API å®šä¹‰
const api = {
  window: {
    minimize: () => ipcRenderer.invoke('window-minimize'),
    maximize: () => ipcRenderer.invoke('window-maximize'),
    close: () => ipcRenderer.invoke('window-close'),
    isMaximized: () => ipcRenderer.invoke('window-is-maximized')
  }
}
```

### shadcn/ui é›†æˆ

å®Œæ•´çš„ shadcn/ui ç»„ä»¶åº“é›†æˆï¼š

```typescript
// ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹
import { Button } from "@/components/ui/button"
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card"
import { Badge } from "@/components/ui/badge"
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°ç»„ä»¶

1. **UI ç»„ä»¶**ï¼ˆæ¨èä½¿ç”¨ shadcn/uiï¼‰ï¼š
```bash
pnpm dlx shadcn@canary add <component-name>
```

2. **è‡ªå®šä¹‰ç»„ä»¶**ï¼š
```typescript
// src/renderer/src/components/MyComponent.tsx
import { motion } from 'framer-motion'

export default function MyComponent() {
  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      className="p-4"
    >
      æˆ‘çš„ç»„ä»¶
    </motion.div>
  )
}
```

### æ·»åŠ  IPC é€šä¿¡

1. **ä¸»è¿›ç¨‹å¤„ç†å™¨**ï¼š
```typescript
// src/main/ipc/handlers/my-handlers.ts
import { ipcMain } from 'electron'

export function registerMyHandlers() {
  ipcMain.handle('my-action', async () => {
    // å¤„ç†é€»è¾‘
    return result
  })
}
```

2. **é¢„åŠ è½½è„šæœ¬ API**ï¼š
```typescript
// src/preload/index.ts
const api = {
  myApi: {
    doAction: () => ipcRenderer.invoke('my-action')
  }
}
```

3. **æ¸²æŸ“è¿›ç¨‹è°ƒç”¨**ï¼š
```typescript
// ç»„ä»¶ä¸­ä½¿ç”¨
const handleAction = async () => {
  const result = await window.api.myApi.doAction()
}
```

### æ ·å¼å¼€å‘

é¡¹ç›®ä½¿ç”¨ Tailwind CSS v4 å’Œè‡ªå®šä¹‰ CSS å˜é‡ï¼š

```css
/* æ”¯æŒ OKLCH è‰²å½©ç©ºé—´ */
:root {
  --primary: oklch(0.208 0.042 265.755);
  --background: oklch(1 0 0);
}

/* è‡ªå®šä¹‰åŠ¨ç”» */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
```

## ğŸ“¦ éƒ¨ç½²æ„å»º

### å¼€å‘æ„å»º

```bash
# æ„å»ºæ¸²æŸ“è¿›ç¨‹
pnpm build:renderer

# æ„å»ºä¸»è¿›ç¨‹
pnpm build:main
```

### å¹³å°æ„å»º

```bash
# Windows æ„å»º
pnpm build:win

# macOS æ„å»º  
pnpm build:mac

# Linux æ„å»º
pnpm build:linux

# å…¨å¹³å°æ„å»º
pnpm build
```

### æ„å»ºé…ç½®

é¡¹ç›®ä½¿ç”¨ `electron-builder` è¿›è¡Œæ‰“åŒ…ï¼Œé…ç½®æ–‡ä»¶ï¼š

- `electron-builder.yml` - ä¸»è¦æ„å»ºé…ç½®
- `dev-app-update.yml` - å¼€å‘ç¯å¢ƒæ›´æ–°é…ç½®

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `components.json` | shadcn/ui ç»„ä»¶é…ç½® |
| `electron.vite.config.ts` | Electron + Vite æ„å»ºé…ç½® |
| `tailwind.config.js` | Tailwind CSS é…ç½® |
| `tsconfig.json` | TypeScript ä¸»é…ç½® |
| `eslint.config.mjs` | ESLint ä»£ç è§„èŒƒé…ç½® |

## ğŸ¨ è‡ªå®šä¹‰ä¸»é¢˜

é¡¹ç›®æ”¯æŒå®Œå…¨è‡ªå®šä¹‰çš„ä¸»é¢˜ç³»ç»Ÿï¼š

```css
/* åœ¨ src/renderer/src/styles/main.css ä¸­è‡ªå®šä¹‰ */
:root {
  /* è‡ªå®šä¹‰é¢œè‰² */
  --primary: your-color;
  --background: your-background;
  
  /* è‡ªå®šä¹‰åœ†è§’ */
  --radius: 0.5rem;
}
```

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

- **Tree Shaking** - Vite è‡ªåŠ¨ç§»é™¤æœªä½¿ç”¨çš„ä»£ç 
- **ä»£ç åˆ†å‰²** - åŠ¨æ€å¯¼å…¥å®ç°æŒ‰éœ€åŠ è½½
- **èµ„æºä¼˜åŒ–** - å›¾ç‰‡å’Œå­—ä½“èµ„æºè‡ªåŠ¨ä¼˜åŒ–
- **ç¼“å­˜ç­–ç•¥** - å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒçš„æ™ºèƒ½ç¼“å­˜

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/AmazingFeature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/AmazingFeature`
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Electron](https://www.electronjs.org/) - è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- [Vite](https://vitejs.dev/) - ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·
- [shadcn/ui](https://ui.shadcn.com/) - ç°ä»£åŒ–ç»„ä»¶åº“
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- [Framer Motion](https://www.framer.com/motion/) - React åŠ¨ç”»åº“

---

<div align="center">

**ğŸŒŸ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª Starï¼**

ä½¿ç”¨ â¤ï¸ å’Œå‰æ²¿æŠ€æœ¯æ„å»º

</div>